
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Appendix &#8212; Text Analysis and Machine Learning (TAML) Group</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Open the Jupyter Book" href="../README.html" />
    <link rel="prev" title="Chapter 5 - New Developments: Topic Modeling with BERTopic!" href="Chapter5.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Text Analysis and Machine Learning (TAML) Group</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome to TAML!
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Python Basics
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="how_to.html">
   i. How to use this book
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="start.html">
   ii. Start coding!
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="boiler.html">
   iii. Boilerplate code review
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="wrangle.html">
   iv. Numeric data wrangling
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="viz.html">
   v. Visualization essentials
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Fall Quarter 2022
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Chapter1.html">
   Chapter 1 - English text preprocessing basics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Chapter2.html">
   Chapter 2 - Core machine learning concepts; building text vocabularies
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Chapter3.html">
   Chapter 3 - Document encoding (TF-IDF), topic modeling, sentiment analysis, building text classifiers
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Chapter4.html">
   Chapter 4 - spaCy and textaCy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Chapter5.html">
   Chapter 5 - New Developments: Topic Modeling with BERTopic!
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   <strong>
    Appendix
   </strong>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../README.html">
   Open the Jupyter Book
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/EastBayEv/SSDS-TAML/master?urlpath=tree/fall2022/Appendix.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
      <li>
        
<button onclick="initThebeSBT()"
  class="headerbtn headerbtn-launch-thebe"
  data-toggle="tooltip"
data-placement="left"
title="Launch Thebe"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="headerbtn__text-container">Live Code</span>
</button>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/EastBayEv/SSDS-TAML"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/EastBayEv/SSDS-TAML/issues/new?title=Issue%20on%20page%20%2Ffall2022/Appendix.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/fall2022/Appendix.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#appendix-a-virtual-environments-in-python">
   Appendix A:
   <em>
    Virtual environments in Python
   </em>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#appendix-a-1-virtual-environments-in-anaconda">
     Appendix A.1:
     <em>
      Virtual environments in Anaconda
     </em>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-1-1-setting-up-a-virtual-environment">
       A.1.1:
       <em>
        Setting up a virtual environment
       </em>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-1-2-activating-your-virtual-environment">
       A.1.2:
       <em>
        Activating your virtual environment
       </em>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-1-3-adding-packages-to-your-virutal-environment">
       A.1.3:
       <em>
        Adding packages to your virutal environment
       </em>
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#appendix-a-2-virtual-environments-in-command-window">
     Appendix A.2:
     <em>
      Virtual environments in Command Window
     </em>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-2-1-installation-prerequisites">
       A.2.1:
       <em>
        Installation prerequisites
       </em>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-2-2-installing-pipenv">
       A.2.2:
       <em>
        Installing pipenv
       </em>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-2-3-using-pipenv">
       A.2.3:
       <em>
        Using pipenv
       </em>
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#appendix-b-more-on-text-preprocessing">
   Appendix B:
   <em>
    More on text preprocessing
   </em>
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Appendix</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#appendix-a-virtual-environments-in-python">
   Appendix A:
   <em>
    Virtual environments in Python
   </em>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#appendix-a-1-virtual-environments-in-anaconda">
     Appendix A.1:
     <em>
      Virtual environments in Anaconda
     </em>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-1-1-setting-up-a-virtual-environment">
       A.1.1:
       <em>
        Setting up a virtual environment
       </em>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-1-2-activating-your-virtual-environment">
       A.1.2:
       <em>
        Activating your virtual environment
       </em>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-1-3-adding-packages-to-your-virutal-environment">
       A.1.3:
       <em>
        Adding packages to your virutal environment
       </em>
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#appendix-a-2-virtual-environments-in-command-window">
     Appendix A.2:
     <em>
      Virtual environments in Command Window
     </em>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-2-1-installation-prerequisites">
       A.2.1:
       <em>
        Installation prerequisites
       </em>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-2-2-installing-pipenv">
       A.2.2:
       <em>
        Installing pipenv
       </em>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-2-3-using-pipenv">
       A.2.3:
       <em>
        Using pipenv
       </em>
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#appendix-b-more-on-text-preprocessing">
   Appendix B:
   <em>
    More on text preprocessing
   </em>
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="appendix">
<h1><strong>Appendix</strong><a class="headerlink" href="#appendix" title="Permalink to this headline">#</a></h1>
<ul class="simple">
<li><p>Welcome to the appendix! Here you’ll find instructions/guides to various Python techniques, tasks, and operations. If you have any suggestions as to what you’d like a section to be written about, please let us know! <a class="reference external" href="mailto:ad2weng&#37;&#52;&#48;stanford&#46;edu">ad2weng<span>&#64;</span>stanford<span>&#46;</span>edu</a> would be happy to receive your feedback!</p></li>
</ul>
<section id="appendix-a-virtual-environments-in-python">
<h2>Appendix A: <em>Virtual environments in Python</em><a class="headerlink" href="#appendix-a-virtual-environments-in-python" title="Permalink to this headline">#</a></h2>
<p>When operating in Python, you’ll often hear/read the advice that you should set up a “virtual environment” for each project you are working on. What exactly is a virtual environment, and why do you need one for every project?</p>
<ul class="simple">
<li><p>From Python’s official documentation:</p>
<ul>
<li><p>A virtual environment is a Python environment such that the Python interpreter, libraries, and scripts installed into it are isolated from those installed in other virtual environments, and (by default) any libraries installed in a “system” Python; i.e., the version of Python which is installed as part of your operating system.</p></li>
</ul>
</li>
</ul>
<p>Put another way, activating your project in a virtual environment allows it to become it’s own self-contained application. A few advantages of doing this include:</p>
<ul class="simple">
<li><p>Allows you to download packages into your project without administrator privileges/status.</p></li>
<li><p>Compartmentalizes your project materials for easy sharing and replication.</p></li>
<li><p><em>Avoids inter-project conflicts regarding versions and dependencies for packages.</em></p></li>
</ul>
<p>That last point can become especially relevant as you work on multiple projects in Python, as one critical version/dependency for one project can cause your other projects to stop working. And, the process of uninstalling packages and/or switching versions for projects is tedious and time-consuming.</p>
<p>With the benefits demonstrated, how exactly do we go about setting up a virtual environment? So glad you asked!</p>
<section id="appendix-a-1-virtual-environments-in-anaconda">
<h3>Appendix A.1: <em>Virtual environments in Anaconda</em><a class="headerlink" href="#appendix-a-1-virtual-environments-in-anaconda" title="Permalink to this headline">#</a></h3>
<p>Anaconda is the preferred distribution for local Python installs, with many functionalities presented in a user-friendly interface and offering a suite of applications to aid in data science projects. You can download it <a class="reference external" href="https://www.anaconda.com/products/distribution">here</a>.</p>
<section id="a-1-1-setting-up-a-virtual-environment">
<h4>A.1.1: <em>Setting up a virtual environment</em><a class="headerlink" href="#a-1-1-setting-up-a-virtual-environment" title="Permalink to this headline">#</a></h4>
<ul>
<li><p>Once you’ve downloaded Anaconda, you can set up a virtual environment by:</p>
<ol>
<li><p>Open Anaconda Navigator on your computer.</p></li>
<li><p>On the left-hand side of the Navigator window, find and click on the button that say ‘Environments’:</p>
 <div>
 <img src="img/ana_env.png" width="500"/>
 <div>
</li>
<li><p>In the ‘Environments’ page, go to the bottom-left of the page and click the button that says ‘Create’.</p>
<ul>
<li><p>When you do so, you’ll be prompted by a pop-up window to provide a name for your new virtual environment. The location for the virutal environment will be shown to you, and you can install a specific version of Python and/or R:</p>
  <div>
  <img src="img/test_env.png"/>
  <div>
</li>
<li><p>Click the ‘Create’ button in the pop-up window, and wait for the virtual environment to finish being created.</p></li>
</ul>
</li>
</ol>
</li>
</ul>
</section>
<section id="a-1-2-activating-your-virtual-environment">
<h4>A.1.2: <em>Activating your virtual environment</em><a class="headerlink" href="#a-1-2-activating-your-virtual-environment" title="Permalink to this headline">#</a></h4>
<p>Now you’re ready to use your virtual environment! To work in this environment, anytime you open Anaconda:</p>
<ul class="simple">
<li><p>Navigate to the ‘Environments’ page;</p></li>
<li><p>Find the environment you want to use; and</p></li>
<li><p>Click on it!</p></li>
</ul>
</section>
<section id="a-1-3-adding-packages-to-your-virutal-environment">
<h4>A.1.3: <em>Adding packages to your virutal environment</em><a class="headerlink" href="#a-1-3-adding-packages-to-your-virutal-environment" title="Permalink to this headline">#</a></h4>
<p>To install packages in this virtual environment, either:</p>
<ul>
<li><p>Stay on the ‘Environments’ page, and on the right-hand side of the page:</p>
<ul>
<li><p>Change the field dictating displayed packages to ‘Not installed’ or ‘All’:</p>
   <div>
   <img src="img/packages_ana_env.png" width="500"/>
   <div>
</li>
<li><p>Go to the ‘Search Packages’ field and type in the name(s) of the package you want to install;</p></li>
<li><p>If your package is available, click the open checkbox to the left of the package name:</p>
   <div>
   <img src="img/install_numpy_base.png" width="500"/>
   <div>
</li>
<li><p>Once you’ve selected all of the packages of interest, click the ‘Apply’ button in the bottom right-hand corner of the page to install them.</p></li>
</ul>
</li>
<li><p>Go to the ‘Home’ page, and (install and then) open the ‘CMD.exe Prompt’ program:</p>
<ul>
<li><p>In your command prompt window, you’ll see that you’re operating in your previously-selected virtual environment:</p>
   <div>
   <img src="img/my_env_cmd_prompt.png" width="500">
   <div>
</li>
<li><p>In this window, type <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">[name</span> <span class="pre">of</span> <span class="pre">package]</span></code> for each package you want to install/weren’t able to install in the ‘Environments’ page.</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="appendix-a-2-virtual-environments-in-command-window">
<h3>Appendix A.2: <em>Virtual environments in Command Window</em><a class="headerlink" href="#appendix-a-2-virtual-environments-in-command-window" title="Permalink to this headline">#</a></h3>
<p>If you prefer to run Python in a command window-type interface, you can still use virtual environments! For this purpose, I recommend the user-friendly <a class="reference external" href="https://pipenv.pypa.io/en/latest/">pipenv</a> package (which utilizes the <code class="docutils literal notranslate"><span class="pre">pip</span></code> and <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code> packages, but handles most of the nitty-gritty details so you don’t have to).</p>
<p>Let’s take a look at how to use it:</p>
<section id="a-2-1-installation-prerequisites">
<h4>A.2.1: <em>Installation prerequisites</em><a class="headerlink" href="#a-2-1-installation-prerequisites" title="Permalink to this headline">#</a></h4>
<p>To use the <code class="docutils literal notranslate"><span class="pre">pipenv</span></code> package, there’s some other things we need to take care of first:</p>
<ul>
<li><p>Make sure you have Python installed on your machine. If you don’t, you should download the latest <a class="reference external" href="https://www.python.org/downloads/">version</a> before proceeding.</p></li>
<li><p>Open a command window:</p>
<ul class="simple">
<li><p>On Windows devices, you can access this interface through the ‘Command Prompt’ program or the ‘Windows Powershell’ program.</p></li>
<li><p>On Apple devices, a similar interface is avaialbe through the ‘Terminal’ application.</p></li>
</ul>
</li>
<li><p>Make sure Python is installed and recognized by your device by typing the <code class="docutils literal notranslate"><span class="pre">py</span></code> command in the command window. You should be greeted by a message which looks something like this:</p>
  <div>
  <img src="img/cmd_py_welcome.png" width="500"/>
  <div>
<p>which displays the current version of Python running and some other information.</p>
<ul>
<li><p>Running Python from a command window still lets you do all the wonderful Pythonic things you might want to! Writing functions, running scripts, etc. For example:</p>
  <div>
  <img src="img/cmd_py_testfunc.png" width="500"/>
  <div>
</li>
<li><p>Most people treat Python in the command window as a lightweight test IDE/calculator. Feel free to play around with it!</p></li>
</ul>
</li>
<li><p>If you see a similar “version (misc. info) [misc. info]” message, your Python installation is ready to go! Please reach out for help  troubleshooting if you don’t.</p></li>
</ul>
</section>
<section id="a-2-2-installing-pipenv">
<h4>A.2.2: <em>Installing pipenv</em><a class="headerlink" href="#a-2-2-installing-pipenv" title="Permalink to this headline">#</a></h4>
<p>Now that you’ve installed Python and can access it from a command window, you’re ready to install pipenv.</p>
<ul class="simple">
<li><p>First, install the <code class="docutils literal notranslate"><span class="pre">pip</span></code> package to unpack the <code class="docutils literal notranslate"><span class="pre">pipenv</span></code> package.</p>
<ul>
<li><p>If you’re not sure as to whether you’ve installed <code class="docutils literal notranslate"><span class="pre">pip</span></code> or not, in your any command window Python instance, type and enter <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">pip</span></code>.</p></li>
<li><p>If no errors rise or nothing happens, you’re good to go!</p></li>
</ul>
</li>
<li><p>Exit the Python instance you’re currently running in your command window by executing “exit() + Enter” or “Ctrl + Z + Enter.”</p></li>
<li><p>Install <code class="docutils literal notranslate"><span class="pre">pipenv</span></code> by typing and entering: <code class="docutils literal notranslate"><span class="pre">py</span> <span class="pre">-m</span> <span class="pre">pip</span> <span class="pre">install</span> <span class="pre">pipenv</span></code>.</p></li>
</ul>
<p>That’s it! <code class="docutils literal notranslate"><span class="pre">pipenv</span></code> has been installed and you’re ready to set up virtual environments.</p>
</section>
<section id="a-2-3-using-pipenv">
<h4>A.2.3: <em>Using pipenv</em><a class="headerlink" href="#a-2-3-using-pipenv" title="Permalink to this headline">#</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">pipenv</span></code> allows you to control virutal environment creation and package installation and versioning all from the same interface. Let’s go through some of the most common operations in <code class="docutils literal notranslate"><span class="pre">pipenv</span></code> for virtual environment management:</p>
<ol>
<li><p><strong>Navigate to your project directory:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pipenv</span></code> keeps all of your virutal environments separate by hashing the path of your current working directory. So, before you create a new virtual environment, be sure to navigate to the directory where you want all of the materials for your current project/workflow to be stored.</p></li>
<li><p>After you’ve created your virtual environment for that project (by following the rest of the guide below), it will automatically be re-initialized anytime you navigate to that same working directory and open a <code class="docutils literal notranslate"><span class="pre">pipenv</span></code> shell in it—read on for more about that!</p></li>
</ul>
</li>
<li><p><strong>Creating a virtual environment:</strong></p>
<ul>
<li><p>To create a new virtual environment, simply enter the command <code class="docutils literal notranslate"><span class="pre">py</span> <span class="pre">-m</span> <span class="pre">pipenv</span> <span class="pre">shell</span></code>. This will instantiate a new virtual environment (and a shell/command window in that environment) if one doesn’t already exist. You should see a screen that looks like this:</p>
  <div>
  <img src="img/cmd_pipenv_new_venv.png" width="500"/>
  <div>
</li>
<li><p>In the sub-shell, you will be able to see the name of the new virtual environment prefixed before the working directory path. In the  image above, my new virtual environment is called <code class="docutils literal notranslate"><span class="pre">ad2we-Y4yP-kYp</span></code>.</p></li>
<li><p>Then, be sure to install <code class="docutils literal notranslate"><span class="pre">pipenv</span></code> in your sub-shell (confusing, I know, but your virtual environment is sealed off from your local machine - it doens’t know you have <code class="docutils literal notranslate"><span class="pre">pipenv</span></code> installed upstairs!) Executing <code class="docutils literal notranslate"><span class="pre">py</span> <span class="pre">-m</span> <span class="pre">install</span> <span class="pre">pipenv</span></code> in your subshell will do the trick.</p></li>
</ul>
</li>
<li><p><strong>Installing packages:</strong></p>
<ul>
<li><p>Now in your virtual environment sub-shell, installing packages with <code class="docutils literal notranslate"><span class="pre">pipenv</span></code> is just like installing packages with <code class="docutils literal notranslate"><span class="pre">pip</span></code>:</p>
<ul>
<li><p>If you don’t need a particular version of a package, just type <code class="docutils literal notranslate"><span class="pre">pipenv</span> <span class="pre">install</span> <span class="pre">&lt;name</span> <span class="pre">of</span> <span class="pre">package&gt;</span></code>:</p>
  <div>
  <img src="img/cmd_pipenv_np_install.png" width="500"/>
  <div>
</li>
<li><p>If you need a particular version of a package, you can enter <code class="docutils literal notranslate"><span class="pre">pipenv</span> <span class="pre">install</span> <span class="pre">&lt;name</span> <span class="pre">of</span> <span class="pre">package&gt;==&lt;version</span> <span class="pre">number&gt;</span></code>:</p>
  <div>
  <img src="img/cmd_pipenv_flask_install.png" width="500"/>
  <div>
</li>
<li><p>Uninstalling packages can be done by executing <code class="docutils literal notranslate"><span class="pre">pipenv</span> <span class="pre">uninstall</span> <span class="pre">&lt;name</span> <span class="pre">of</span> <span class="pre">package&gt;</span></code>.</p></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Locking the environment:</strong></p>
<ul>
<li><p>In your virutal environment shell, you can run scripts, write functions, edit files, etc. as usual. Once you’ve completed your workflow, you can <em>lock</em> the versions of the different packages you have installed to ensure that you and others can always replicate your work without having to worry about versioning issues.</p></li>
<li><p>Run the command <code class="docutils literal notranslate"><span class="pre">pipenv</span> <span class="pre">lock</span></code> — this will generate/update a file called <code class="docutils literal notranslate"><span class="pre">Pipfile.lock</span></code> which you should never need to edit manually. This file lists all the package versions, dependencies, and other computer-useful information used at the exact moment your ran the <code class="docutils literal notranslate"><span class="pre">pipenv</span> <span class="pre">lock</span></code> command.</p></li>
<li><p>Anytime after running <code class="docutils literal notranslate"><span class="pre">pipenv</span> <span class="pre">lock</span></code>, if you’d like to restore this locked environment (say, when opening a new command window and resuming work on a project), you can run the command:</p>
<p><code class="docutils literal notranslate"><span class="pre">pipenv</span> <span class="pre">install</span> <span class="pre">--ignore-pipfile</span></code></p>
</li>
<li><p>which bypasses the Pipfile—a file that contains only general information about required packages—to re-initalize the exact environment present when your previously locked development in this project directory.</p></li>
</ul>
</li>
</ol>
</section>
</section>
</section>
<section id="appendix-b-more-on-text-preprocessing">
<h2>Appendix B: <em>More on text preprocessing</em><a class="headerlink" href="#appendix-b-more-on-text-preprocessing" title="Permalink to this headline">#</a></h2>
<p>While the exact steps you elect to use for text preprocessing will ultimately depend on applications, there are some more generalizable techniques that you can usually look to apply:</p>
<ul class="simple">
<li><p><strong>Expand contractions</strong> - contractions like “don’t”, “they’re”, and “it’s” all count as unique tokens if punctuation is simply removed (converting them to “dont”, “theyre”, “its”, respectively). Decompose contractions into their constituent words to get more accurate counts of tokens like “is,” “they,” etc. (or for ensuring their removal when omitting stopwords from text – read on for more about those!)</p>
<ul>
<li><p>The <a class="reference external" href="https://github.com/kootenpv/contractions">contractions</a> package can be useful here! Let’s see an example:</p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># required install: </span>
<span class="o">!</span>pip install contractions
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: contractions in /Users/evanmuzzall/.local/share/virtualenvs/SSDS-TAML-xaUfvlpM/lib/python3.9/site-packages (0.1.72)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: textsearch&gt;=0.0.21 in /Users/evanmuzzall/.local/share/virtualenvs/SSDS-TAML-xaUfvlpM/lib/python3.9/site-packages (from contractions) (0.0.21)
Requirement already satisfied: anyascii in /Users/evanmuzzall/.local/share/virtualenvs/SSDS-TAML-xaUfvlpM/lib/python3.9/site-packages (from textsearch&gt;=0.0.21-&gt;contractions) (0.3.1)
Requirement already satisfied: pyahocorasick in /Users/evanmuzzall/.local/share/virtualenvs/SSDS-TAML-xaUfvlpM/lib/python3.9/site-packages (from textsearch&gt;=0.0.21-&gt;contractions) (1.4.4)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">contractions</span> 

<span class="n">contractions_sentence</span> <span class="o">=</span> <span class="s2">&quot;I&#39;d like to know how you&#39;re doing! You&#39;re her best friend, but I&#39;m your friend too, aren&#39;t I?&quot;</span>

<span class="c1"># let&#39;s see the text, de-contraction-afied!</span>
<span class="nb">print</span><span class="p">(</span><span class="n">contractions</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="n">contractions_sentence</span><span class="p">))</span>

<span class="c1"># this package can also resolve some slang! an example in action: </span>
<span class="n">slang_sentence</span> <span class="o">=</span> <span class="s2">&quot;Ima go sign up for an SSDS consult - yall gotta do it too!&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="n">contractions</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="n">slang_sentence</span><span class="p">,</span> <span class="n">slang</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>I would like to know how you are doing! You are her best friend, but I am your friend too, are not I?
I Am About To go sign up for an SSDS consult - you all got to do it too!
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>If you ran the previous code cell, you might notice that one of the contraction expansions in <code class="docutils literal notranslate"><span class="pre">contractions_sentence</span></code> isn’t quite grammatically correct; “aren’t I?” is coverted to “are not I?” where it should be “am I not?”</p>
<ul>
<li><p>This is because the <code class="docutils literal notranslate"><span class="pre">contractions</span></code> package only offers <em>static</em> contraction conversions–i.e., it doesn’t consider the context surrounding a contraction and always converts a specific contraction into a specific expansion.</p></li>
<li><p>For a package that converts contractions with more contextual analysis, consider the <a class="reference external" href="https://pypi.org/project/pycontractions/">pycontractions</a> package. Where multiple expansions are possible, this package evaluates which expansions are gramatically correct and then which one is most likely to be correct (by a metric called <a class="reference external" href="https://towardsdatascience.com/word-distance-between-word-embeddings-cc3e9cf1d632">Word Mover’s Distance</a>).</p></li>
<li><p>If you would like to use <code class="docutils literal notranslate"><span class="pre">pycontractions</span></code>, be note that the install can be rather finnicky–the package requires another module called <code class="docutils literal notranslate"><span class="pre">language-check</span></code> which requires an up-to-date version of <a class="reference external" href="https://www.java.com/en/download/help/download_options.html">Java</a>. If you have issues during the install, please reach out to SSDS for help!</p></li>
</ul>
</li>
</ul>
<ul class="simple">
<li><p><strong>Remove stopwords</strong> - stopwords are words like “a,” “from,” and “the” which are typically filtered out from text before analysis as they do not meaningfully contribute to the content of a document. Leaving in stopwords can lead to irrelevant topics in topic modeling, dilute the strength of sentiment in sentiment analysis, etc.</p>
<ul>
<li><p>Here’s a quick loop that can help filter out the stopwords from a string:</p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">stopwords</span> 
<span class="kn">from</span> <span class="nn">nltk.tokenize</span> <span class="kn">import</span> <span class="n">word_tokenize</span>

<span class="n">example_sentence</span> <span class="o">=</span> <span class="s2">&quot;Hi! This is a needlessly wordy sentence with lots of stopwords. My favorite words are: a, the, with, which. You may think that is strange - and it is!&quot;</span>

<span class="n">stop_words</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s1">&#39;english&#39;</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Example stopwords include: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s1">&#39;english&#39;</span><span class="p">)[:</span><span class="mi">5</span><span class="p">]))</span> <span class="c1"># if you want to see what are considered English stopwords by the NLTK package</span>

<span class="n">word_tokens</span> <span class="o">=</span> <span class="n">word_tokenize</span><span class="p">(</span><span class="n">example_sentence</span><span class="p">)</span>

<span class="n">filtered_sentence</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">word_tokens</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">w</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">stop_words</span><span class="p">]</span>

<span class="c1"># let&#39;s see the difference!</span>
<span class="nb">print</span><span class="p">(</span><span class="n">word_tokens</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">filtered_sentence</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Example stopwords include: [&#39;i&#39;, &#39;me&#39;, &#39;my&#39;, &#39;myself&#39;, &#39;we&#39;]
[&#39;Hi&#39;, &#39;!&#39;, &#39;This&#39;, &#39;is&#39;, &#39;a&#39;, &#39;needlessly&#39;, &#39;wordy&#39;, &#39;sentence&#39;, &#39;with&#39;, &#39;lots&#39;, &#39;of&#39;, &#39;stopwords&#39;, &#39;.&#39;, &#39;My&#39;, &#39;favorite&#39;, &#39;words&#39;, &#39;are&#39;, &#39;:&#39;, &#39;a&#39;, &#39;,&#39;, &#39;the&#39;, &#39;,&#39;, &#39;with&#39;, &#39;,&#39;, &#39;which&#39;, &#39;.&#39;, &#39;You&#39;, &#39;may&#39;, &#39;think&#39;, &#39;that&#39;, &#39;is&#39;, &#39;strange&#39;, &#39;-&#39;, &#39;and&#39;, &#39;it&#39;, &#39;is&#39;, &#39;!&#39;]
[&#39;Hi&#39;, &#39;!&#39;, &#39;needlessly&#39;, &#39;wordy&#39;, &#39;sentence&#39;, &#39;lots&#39;, &#39;stopwords&#39;, &#39;.&#39;, &#39;favorite&#39;, &#39;words&#39;, &#39;:&#39;, &#39;,&#39;, &#39;,&#39;, &#39;,&#39;, &#39;.&#39;, &#39;may&#39;, &#39;think&#39;, &#39;strange&#39;, &#39;-&#39;, &#39;!&#39;]
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Note that different packages have different lists which define stopwords, so make sure you pick a suitable one. Also, feel free to define your own custom stopwords lists!</p></li>
<li><p><strong>Standardize phrases</strong> - oftentimes text preprocessing is carried out as a precursor to a matching exercise (e.g. using company name to merge two databases). In such cases, we may want to standardize key phrases. For example, “My Little Startup, LLC” and “my little startup” clearly refer to the same entity, but will not match currently.</p>
<ul>
<li><p>In such cases, we may need to write a custom script to standardize key phrases, or there may be a packages out there that already do this for us. Let’s take a look at one for our example, standardizing company names:</p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># required install: </span>
<span class="o">!</span>pip install cleanco
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: cleanco in /Users/evanmuzzall/.local/share/virtualenvs/SSDS-TAML-xaUfvlpM/lib/python3.9/site-packages (2.2)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">cleanco</span> <span class="kn">import</span> <span class="n">basename</span>

<span class="n">business_name_one</span> <span class="o">=</span> <span class="s2">&quot;My Little Startup, LLC&quot;</span>
<span class="n">cleaned_name_one</span>  <span class="o">=</span> <span class="n">basename</span><span class="p">(</span><span class="n">business_name_one</span><span class="p">)</span> <span class="c1"># feel free to print this out! just add: &#39;print(cleaned_name_one)&#39; below. </span>

<span class="n">business_name_two</span> <span class="o">=</span> <span class="s2">&quot;My Little Startup&quot;</span>
<span class="n">cleaned_name_two</span>  <span class="o">=</span> <span class="n">basename</span><span class="p">(</span><span class="n">business_name_two</span><span class="p">)</span>

<span class="c1"># sanity check - are the cleaned company names identical?  </span>
<span class="nb">print</span><span class="p">(</span><span class="n">cleaned_name_one</span> <span class="o">==</span> <span class="n">cleaned_name_two</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>How and where you choose to standardize phrases in text will of course depend on your end goal, but there are plenty of resources/examples out there for you to model an approach after if a package doesn’t already exist!</p></li>
<li><p><strong>Normalize text</strong> - normalization refers to the process of transforming text into a canonical (standard) form. Sometimes, people take this to mean the entire text pre-processing pipeline, but here we’re using it to refer to conversions like “2mrrw” to “tomorrow” and “b4” to “before.”</p>
<ul>
<li><p>This process is especially useful when using social media comments as your base text for analysis but often requires custom scripting.</p></li>
</ul>
</li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "EastBayEv/SSDS-TAML",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./fall2022"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="Chapter5.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Chapter 5 - New Developments: Topic Modeling with BERTopic!</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../README.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Open the Jupyter Book</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Software and Services for Data Science (SSDS) at Stanford Libraries<br/>
  
      &copy; Copyright 2021-2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>