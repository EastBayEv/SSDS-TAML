
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Solutions &#8212; Text Analysis and Machine Learning (TAML) Group</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Appendix" href="Appendix.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Text Analysis and Machine Learning (TAML) Group</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome to TAML!
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Python Basics
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="1_How_to_use_this_book.html">
   Chapter 1 - How to use this book
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2_Python_environments.html">
   Chapter 2 - Python environments
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="3_Basic_Python_syntax.html">
   Chapter 3 - Basic Python syntax
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="4_Numeric_data_wrangling.html">
   Chapter 4 - Numeric data wrangling
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="5_Data_visualization_essentials.html">
   Chapter 5 - Data visualization essentials
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Text analysis and machine learning
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="6_Core_concepts_vocabularies.html">
   Chapter 6 - Core machine learning concepts; building text vocabularies
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="7_English_text_preprocessing_basics.html">
   Chapter 7 - English text preprocessing basics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="8_spaCy_textaCy.html">
   Chapter 8 - spaCy and textaCy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="9_BERTopic.html">
   Chapter 9 - New Developments: Topic Modeling with BERTopic!
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Appendix.html">
   <strong>
    Appendix
   </strong>
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Solutions
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/EastBayEv/SSDS-TAML/master?urlpath=tree/fall2022/Solutions.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
      <li>
        
<button onclick="initThebeSBT()"
  class="headerbtn headerbtn-launch-thebe"
  data-toggle="tooltip"
data-placement="left"
title="Launch Thebe"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="headerbtn__text-container">Live Code</span>
</button>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/EastBayEv/SSDS-TAML"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/EastBayEv/SSDS-TAML/issues/new?title=Issue%20on%20page%20%2Ffall2022/Solutions.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/fall2022/Solutions.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chapter-1-exercises">
   Chapter 1 - Exercises
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chapter-2-exercises">
   Chapter 2 - Exercises
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chapter-3-exercises">
   Chapter 3 - Exercises
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chapter-4-exercises">
   Chapter 4 - Exercises
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chapter-5-penguins-exercises">
   Chapter 5 - Penguins Exercises
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chapter-5-gapminder-exercises">
   Chapter 5 - Gapminder Exercises
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chapter-6-exercise">
   Chapter 6 - Exercise
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chapter-7-exercises-redwoods-webscraping">
   Chapter 7 - Exercises - redwoods webscraping
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chapter-7-exercise-dracula-versus-frankenstein">
   Chapter 7 - Exercise -
   <em>
    Dracula
   </em>
   versus
   <em>
    Frankenstein
   </em>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chapter-8-exercise">
   Chapter 8 - Exercise
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chapter-9-exercise">
   Chapter 9 - Exercise
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Solutions</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chapter-1-exercises">
   Chapter 1 - Exercises
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chapter-2-exercises">
   Chapter 2 - Exercises
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chapter-3-exercises">
   Chapter 3 - Exercises
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chapter-4-exercises">
   Chapter 4 - Exercises
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chapter-5-penguins-exercises">
   Chapter 5 - Penguins Exercises
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chapter-5-gapminder-exercises">
   Chapter 5 - Gapminder Exercises
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chapter-6-exercise">
   Chapter 6 - Exercise
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chapter-7-exercises-redwoods-webscraping">
   Chapter 7 - Exercises - redwoods webscraping
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chapter-7-exercise-dracula-versus-frankenstein">
   Chapter 7 - Exercise -
   <em>
    Dracula
   </em>
   versus
   <em>
    Frankenstein
   </em>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chapter-8-exercise">
   Chapter 8 - Exercise
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chapter-9-exercise">
   Chapter 9 - Exercise
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="solutions">
<h1>Solutions<a class="headerlink" href="#solutions" title="Permalink to this headline">#</a></h1>
<a target="_blank" href="https://colab.research.google.com/github/EastBayEv/SSDS-TAML/blob/main/fall2022/Solutions.ipynb">
  <img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"/>
</a>
<p>Example solutions for challenge exercises from each chapter in this book.</p>
<section id="chapter-1-exercises">
<h2>Chapter 1 - Exercises<a class="headerlink" href="#chapter-1-exercises" title="Permalink to this headline">#</a></h2>
<ol class="simple">
<li><p>You will find challenge exercises to work on at the end of each chapter. They will require you to write code such as that found in the cell at the top of this notebook.</p></li>
<li><p>Click the “Colab” badge at the top of this notebook to open it in the Colaboratory environment. Press <code class="docutils literal notranslate"><span class="pre">shift</span></code> and <code class="docutils literal notranslate"><span class="pre">enter</span></code> simultaneously on your keyboard to run the code and draw your lucky card!</p></li>
</ol>
<blockquote>
<div><p>Remember: Press <code class="docutils literal notranslate"><span class="pre">shift</span></code> and <code class="docutils literal notranslate"><span class="pre">enter</span></code> on your keyboard to run a cell.</p>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import necessary librarys to make the code work</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">calendar</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span><span class="p">,</span> <span class="n">datetime</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define the deck and suits as character strings and split them on the spaces</span>
<span class="n">deck</span> <span class="o">=</span> <span class="s1">&#39;ace two three four five six seven eight nine ten jack queen king&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="n">suit</span> <span class="o">=</span> <span class="s1">&#39;spades clubs hearts diamonds&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">deck</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">suit</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;ace&#39;, &#39;two&#39;, &#39;three&#39;, &#39;four&#39;, &#39;five&#39;, &#39;six&#39;, &#39;seven&#39;, &#39;eight&#39;, &#39;nine&#39;, &#39;ten&#39;, &#39;jack&#39;, &#39;queen&#39;, &#39;king&#39;]
[&#39;spades&#39;, &#39;clubs&#39;, &#39;hearts&#39;, &#39;diamonds&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define today&#39;s day and date</span>
<span class="n">today</span> <span class="o">=</span> <span class="n">calendar</span><span class="o">.</span><span class="n">day_name</span><span class="p">[</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="o">.</span><span class="n">weekday</span><span class="p">()]</span>
<span class="n">date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">today</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">date</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Tuesday
2022-09-06
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># randomly sample the card value and suit</span>
<span class="n">select_value</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">select_suit</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">suit</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">select_value</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">select_suit</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>eight
clubs
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># combine the character strings and variables into the final statement</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Welcome to TAML at SSDS!&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Your lucky card for &quot;</span> <span class="o">+</span> <span class="n">today</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">date</span> <span class="o">+</span> <span class="s2">&quot; is: &quot;</span> <span class="o">+</span> <span class="n">select_value</span> <span class="o">+</span> <span class="s2">&quot; of &quot;</span> <span class="o">+</span> <span class="n">select_suit</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Welcome to TAML at SSDS!

Your lucky card for Tuesday 2022-09-06 is: eight of clubs
</pre></div>
</div>
</div>
</div>
</section>
<section id="chapter-2-exercises">
<h2>Chapter 2 - Exercises<a class="headerlink" href="#chapter-2-exercises" title="Permalink to this headline">#</a></h2>
<ol class="simple">
<li><p>(Required) Set up your Google Colaboratory (Colab) environment following the instructions in #1 listed above.</p></li>
<li><p>(Optional) Check that you can correctly open these notebooks in Jupyter Lab.</p></li>
<li><p>(Optional) Install Python Anaconda distribution on your machine.</p></li>
</ol>
<blockquote>
<div><p>See 2_Python_environments.ipynb for instructions.</p>
</div></blockquote>
</section>
<section id="chapter-3-exercises">
<h2>Chapter 3 - Exercises<a class="headerlink" href="#chapter-3-exercises" title="Permalink to this headline">#</a></h2>
<ol class="simple">
<li><p>Define one variablez for each of the four data types introduced above: 1) string, 2) boolean, 3) float, and 4) integer.</p></li>
<li><p>Define two lists that contain four elements each.</p></li>
<li><p>Define a dictionary that containts the two lists from #2 above.</p></li>
<li><p>Import the file “dracula.txt”. Save it in a variable named <code class="docutils literal notranslate"><span class="pre">drac</span></code></p></li>
<li><p>Import the file “penguins.csv”. Save it in a variable named <code class="docutils literal notranslate"><span class="pre">pen</span></code></p></li>
<li><p>Figure out how to find help to export just the first 1000 characters of <code class="docutils literal notranslate"><span class="pre">drac</span></code> as a .txt file named “dracula_short.txt”</p></li>
<li><p>Figure out how to export the <code class="docutils literal notranslate"><span class="pre">pen</span></code> dataframe as a file named “penguins_saved.csv”</p></li>
</ol>
<p>If you encounter error messages, which ones?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#1 </span>
<span class="n">string1</span> <span class="o">=</span> <span class="s2">&quot;Hello!&quot;</span>
<span class="n">string2</span> <span class="o">=</span> <span class="s2">&quot;This is a sentence.&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">string1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">string2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Hello!
This is a sentence.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bool1</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">bool2</span> <span class="o">=</span> <span class="kc">False</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bool1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bool2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
False
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">float1</span> <span class="o">=</span> <span class="mf">3.14</span>
<span class="n">float2</span> <span class="o">=</span> <span class="mf">12.345</span>
<span class="nb">print</span><span class="p">(</span><span class="n">float1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">float2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.14
12.345
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">integer1</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">integer2</span> <span class="o">=</span> <span class="mi">4356</span>
<span class="nb">print</span><span class="p">(</span><span class="n">integer1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">integer2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>8
4356
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#2</span>
<span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="n">integer2</span><span class="p">,</span> <span class="n">string2</span><span class="p">,</span> <span class="n">float1</span><span class="p">,</span> <span class="s2">&quot;My name is:&quot;</span><span class="p">]</span>
<span class="n">list2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;What?&quot;</span><span class="p">,</span> <span class="n">string1</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">list1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">list2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[4356, &#39;This is a sentence.&#39;, 3.14, &#39;My name is:&#39;]
[3, True, &#39;What?&#39;, &#39;Hello!&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#3</span>
<span class="n">dict_one</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;direction&quot;</span><span class="p">:</span> <span class="s2">&quot;up&quot;</span><span class="p">,</span>
           <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">1234</span><span class="p">,</span>
           <span class="s2">&quot;first_list&quot;</span><span class="p">:</span> <span class="n">list1</span><span class="p">,</span>
           <span class="s2">&quot;second_list&quot;</span><span class="p">:</span> <span class="n">list2</span><span class="p">}</span>
<span class="n">dict_one</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;direction&#39;: &#39;up&#39;,
 &#39;code&#39;: 1234,
 &#39;first_list&#39;: [4356, &#39;This is a sentence.&#39;, 3.14, &#39;My name is:&#39;],
 &#39;second_list&#39;: [3, True, &#39;What?&#39;, &#39;Hello!&#39;]}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#4</span>
<span class="o">!</span>wget -P data/ https://raw.githubusercontent.com/EastBayEv/SSDS-TAML/main/fall2022/data/dracula.txt
<span class="n">drac</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data/dracula.txt&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="c1"># print(drac)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--2022-09-06 19:52:39--  https://raw.githubusercontent.com/EastBayEv/SSDS-TAML/main/fall2022/data/dracula.txt
Resolving raw.githubusercontent.com (raw.githubusercontent.com)... 185.199.111.133, 185.199.108.133, 185.199.110.133, ...
Connecting to raw.githubusercontent.com (raw.githubusercontent.com)|185.199.111.133|:443... connected.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>HTTP request sent, awaiting response... 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>200 OK
Length: 865360 (845K) [text/plain]
Saving to: &#39;data/dracula.txt.1&#39;


dracula.txt.1         0%[                    ]       0  --.-KB/s               
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>dracula.txt.1       100%[===================&gt;] 845.08K  --.-KB/s    in 0.1s    

2022-09-06 19:52:40 (5.88 MB/s) - &#39;data/dracula.txt.1&#39; saved [865360/865360]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#5</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="o">!</span>wget -P data/ https://raw.githubusercontent.com/EastBayEv/SSDS-TAML/main/fall2022/data/penguins.csv
<span class="n">pen</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/penguins.csv&quot;</span><span class="p">)</span>
<span class="n">pen</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--2022-09-06 19:52:40--  https://raw.githubusercontent.com/EastBayEv/SSDS-TAML/main/fall2022/data/penguins.csv
Resolving raw.githubusercontent.com (raw.githubusercontent.com)... 185.199.108.133, 185.199.110.133, 185.199.109.133, ...
Connecting to raw.githubusercontent.com (raw.githubusercontent.com)|185.199.108.133|:443... connected.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>HTTP request sent, awaiting response... 200 OK
Length: 13478 (13K) [text/plain]
Saving to: &#39;data/penguins.csv.2&#39;


penguins.csv.2        0%[                    ]       0  --.-KB/s               
penguins.csv.2      100%[===================&gt;]  13.16K  --.-KB/s    in 0s      

2022-09-06 19:52:40 (33.0 MB/s) - &#39;data/penguins.csv.2&#39; saved [13478/13478]
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>species</th>
      <th>island</th>
      <th>bill_length_mm</th>
      <th>bill_depth_mm</th>
      <th>flipper_length_mm</th>
      <th>body_mass_g</th>
      <th>sex</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.1</td>
      <td>18.7</td>
      <td>181.0</td>
      <td>3750.0</td>
      <td>MALE</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.5</td>
      <td>17.4</td>
      <td>186.0</td>
      <td>3800.0</td>
      <td>FEMALE</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>40.3</td>
      <td>18.0</td>
      <td>195.0</td>
      <td>3250.0</td>
      <td>FEMALE</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>36.7</td>
      <td>19.3</td>
      <td>193.0</td>
      <td>3450.0</td>
      <td>FEMALE</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>339</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>340</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>46.8</td>
      <td>14.3</td>
      <td>215.0</td>
      <td>4850.0</td>
      <td>FEMALE</td>
    </tr>
    <tr>
      <th>341</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>50.4</td>
      <td>15.7</td>
      <td>222.0</td>
      <td>5750.0</td>
      <td>MALE</td>
    </tr>
    <tr>
      <th>342</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>45.2</td>
      <td>14.8</td>
      <td>212.0</td>
      <td>5200.0</td>
      <td>FEMALE</td>
    </tr>
    <tr>
      <th>343</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>49.9</td>
      <td>16.1</td>
      <td>213.0</td>
      <td>5400.0</td>
      <td>MALE</td>
    </tr>
  </tbody>
</table>
<p>344 rows × 7 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#6</span>
<span class="c1"># first slice the string you want to save</span>
<span class="n">drac_short</span> <span class="o">=</span> <span class="n">drac</span><span class="p">[:</span><span class="mi">1000</span><span class="p">]</span>

<span class="c1"># second, open in write mode and write the file to the data directory!</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data/dracula_short.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">drac_short</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># You can also copy files from Colab to your Google Drive</span>
<span class="c1"># Mount your GDrive</span>
<span class="kn">from</span> <span class="nn">google.colab</span> <span class="kn">import</span> <span class="n">drive</span>
<span class="n">drive</span><span class="o">.</span><span class="n">mount</span><span class="p">(</span><span class="s1">&#39;/content/drive&#39;</span><span class="p">)</span>

<span class="c1"># Copy a file from Colab to GDrive</span>
<span class="o">!</span>cp dracula_short.txt /content/drive/MyDrive
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="nn">Input In [15],</span> in <span class="ni">&lt;cell line: 3&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="c1"># You can also copy files from Colab to your Google Drive</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="c1"># Mount your GDrive</span>
<span class="ne">----&gt; </span><span class="mi">3</span> <span class="kn">from</span> <span class="nn">google.colab</span> <span class="kn">import</span> <span class="n">drive</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="n">drive</span><span class="o">.</span><span class="n">mount</span><span class="p">(</span><span class="s1">&#39;/content/drive&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="c1"># Copy a file from Colab to GDrive</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;google.colab&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#7</span>
<span class="n">pen</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;data/penguins_saved.csv&quot;</span><span class="p">)</span>

<span class="o">!</span>cp data/penguins_saved.csv /content/drive/MyDrive
</pre></div>
</div>
</div>
</div>
</section>
<section id="chapter-4-exercises">
<h2>Chapter 4 - Exercises<a class="headerlink" href="#chapter-4-exercises" title="Permalink to this headline">#</a></h2>
<ol class="simple">
<li><p>Load the file “gapminder-FiveYearData.csv” and save it in a variable named <code class="docutils literal notranslate"><span class="pre">gap</span></code></p></li>
<li><p>Print the column names</p></li>
<li><p>Compute the mean for one numeric column</p></li>
<li><p>Compute the mean for all numeric columns</p></li>
<li><p>Tabulate frequencies for the “continent” column</p></li>
<li><p>Compute mean lifeExp and dgpPercap by continent</p></li>
<li><p>Create a subset of <code class="docutils literal notranslate"><span class="pre">gap</span></code> that contains only countries with lifeExp greater than 75 and gdpPercap less than 5000.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#1</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="o">!</span>wget -P data/ https://raw.githubusercontent.com/EastBayEv/SSDS-TAML/main/fall2022/data/gapminder-FiveYearData.csv
<span class="n">gap</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/gapminder-FiveYearData.csv&quot;</span><span class="p">)</span>
<span class="n">gap</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country</th>
      <th>year</th>
      <th>pop</th>
      <th>continent</th>
      <th>lifeExp</th>
      <th>gdpPercap</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Afghanistan</td>
      <td>1952</td>
      <td>8425333.0</td>
      <td>Asia</td>
      <td>28.801</td>
      <td>779.445314</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Afghanistan</td>
      <td>1957</td>
      <td>9240934.0</td>
      <td>Asia</td>
      <td>30.332</td>
      <td>820.853030</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Afghanistan</td>
      <td>1962</td>
      <td>10267083.0</td>
      <td>Asia</td>
      <td>31.997</td>
      <td>853.100710</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Afghanistan</td>
      <td>1967</td>
      <td>11537966.0</td>
      <td>Asia</td>
      <td>34.020</td>
      <td>836.197138</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Afghanistan</td>
      <td>1972</td>
      <td>13079460.0</td>
      <td>Asia</td>
      <td>36.088</td>
      <td>739.981106</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1699</th>
      <td>Zimbabwe</td>
      <td>1987</td>
      <td>9216418.0</td>
      <td>Africa</td>
      <td>62.351</td>
      <td>706.157306</td>
    </tr>
    <tr>
      <th>1700</th>
      <td>Zimbabwe</td>
      <td>1992</td>
      <td>10704340.0</td>
      <td>Africa</td>
      <td>60.377</td>
      <td>693.420786</td>
    </tr>
    <tr>
      <th>1701</th>
      <td>Zimbabwe</td>
      <td>1997</td>
      <td>11404948.0</td>
      <td>Africa</td>
      <td>46.809</td>
      <td>792.449960</td>
    </tr>
    <tr>
      <th>1702</th>
      <td>Zimbabwe</td>
      <td>2002</td>
      <td>11926563.0</td>
      <td>Africa</td>
      <td>39.989</td>
      <td>672.038623</td>
    </tr>
    <tr>
      <th>1703</th>
      <td>Zimbabwe</td>
      <td>2007</td>
      <td>12311143.0</td>
      <td>Africa</td>
      <td>43.487</td>
      <td>469.709298</td>
    </tr>
  </tbody>
</table>
<p>1704 rows × 6 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#2</span>
<span class="n">gap</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;country&#39;, &#39;year&#39;, &#39;pop&#39;, &#39;continent&#39;, &#39;lifeExp&#39;, &#39;gdpPercap&#39;], dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#3</span>
<span class="n">gap</span><span class="p">[</span><span class="s2">&quot;lifeExp&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>59.47443936619714
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># or</span>
<span class="n">gap</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>pop</th>
      <th>lifeExp</th>
      <th>gdpPercap</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>1704.00000</td>
      <td>1.704000e+03</td>
      <td>1704.000000</td>
      <td>1704.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>1979.50000</td>
      <td>2.960121e+07</td>
      <td>59.474439</td>
      <td>7215.327081</td>
    </tr>
    <tr>
      <th>std</th>
      <td>17.26533</td>
      <td>1.061579e+08</td>
      <td>12.917107</td>
      <td>9857.454543</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1952.00000</td>
      <td>6.001100e+04</td>
      <td>23.599000</td>
      <td>241.165876</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1965.75000</td>
      <td>2.793664e+06</td>
      <td>48.198000</td>
      <td>1202.060309</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>1979.50000</td>
      <td>7.023596e+06</td>
      <td>60.712500</td>
      <td>3531.846988</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>1993.25000</td>
      <td>1.958522e+07</td>
      <td>70.845500</td>
      <td>9325.462346</td>
    </tr>
    <tr>
      <th>max</th>
      <td>2007.00000</td>
      <td>1.318683e+09</td>
      <td>82.603000</td>
      <td>113523.132900</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#4</span>
<span class="nb">print</span><span class="p">(</span><span class="n">gap</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>year         1.979500e+03
pop          2.960121e+07
lifeExp      5.947444e+01
gdpPercap    7.215327e+03
dtype: float64
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/var/folders/9g/fhnd1v790cj5ccxlv4rcvsy40000gq/T/ipykernel_88390/1146573181.py:2: FutureWarning: Dropping of nuisance columns in DataFrame reductions (with &#39;numeric_only=None&#39;) is deprecated; in a future version this will raise TypeError.  Select only valid columns before calling the reduction.
  print(gap.mean())
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#5</span>
<span class="n">gap</span><span class="p">[</span><span class="s2">&quot;continent&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Africa      624
Asia        396
Europe      360
Americas    300
Oceania      24
Name: continent, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#6</span>
<span class="n">le_gdp_by_continent</span> <span class="o">=</span> <span class="n">gap</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;continent&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">mean_le</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;lifeExp&quot;</span><span class="p">,</span> <span class="s2">&quot;mean&quot;</span><span class="p">),</span> 
                                                  <span class="n">mean_gdp</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;gdpPercap&quot;</span><span class="p">,</span> <span class="s2">&quot;mean&quot;</span><span class="p">))</span>
<span class="n">le_gdp_by_continent</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>mean_le</th>
      <th>mean_gdp</th>
    </tr>
    <tr>
      <th>continent</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Africa</th>
      <td>48.865330</td>
      <td>2193.754578</td>
    </tr>
    <tr>
      <th>Americas</th>
      <td>64.658737</td>
      <td>7136.110356</td>
    </tr>
    <tr>
      <th>Asia</th>
      <td>60.064903</td>
      <td>7902.150428</td>
    </tr>
    <tr>
      <th>Europe</th>
      <td>71.903686</td>
      <td>14469.475533</td>
    </tr>
    <tr>
      <th>Oceania</th>
      <td>74.326208</td>
      <td>18621.609223</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#7 </span>
<span class="n">gap_75_1000</span> <span class="o">=</span> <span class="n">gap</span><span class="p">[(</span><span class="n">gap</span><span class="p">[</span><span class="s2">&quot;lifeExp&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">75</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">gap</span><span class="p">[</span><span class="s2">&quot;gdpPercap&quot;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">5000</span><span class="p">)]</span>
<span class="n">gap_75_1000</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country</th>
      <th>year</th>
      <th>pop</th>
      <th>continent</th>
      <th>lifeExp</th>
      <th>gdpPercap</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>22</th>
      <td>Albania</td>
      <td>2002</td>
      <td>3508512.0</td>
      <td>Europe</td>
      <td>75.651</td>
      <td>4604.211737</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="chapter-5-penguins-exercises">
<h2>Chapter 5 - Penguins Exercises<a class="headerlink" href="#chapter-5-penguins-exercises" title="Permalink to this headline">#</a></h2>
<p>Learn more about the biological and spatial characteristics of penguins!</p>
<ol class="simple">
<li><p>Use seaborn to make a scatterplot of two continuous variables. Color each point by species.</p></li>
<li><p>Make the same scatterplot as #1 above. This time, color each point by sex.</p></li>
<li><p>Make the same scatterplot as #1 above again. This time color each point by island.</p></li>
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">sns.FacetGrid</span></code> method to make faceted plots to examine “flipper_length_mm” on the x-axis, and “body_mass_g” on the y-axis.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="o">!</span>wget -P data/ https://raw.githubusercontent.com/EastBayEv/SSDS-TAML/main/fall2022/data/penguins.csv
<span class="n">peng</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/penguins.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--2022-09-06 19:05:16--  https://raw.githubusercontent.com/EastBayEv/SSDS-TAML/main/fall2022/data/penguins.csv
Resolving raw.githubusercontent.com (raw.githubusercontent.com)... 185.199.108.133, 185.199.111.133, 185.199.110.133, ...
Connecting to raw.githubusercontent.com (raw.githubusercontent.com)|185.199.108.133|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 13478 (13K) [text/plain]
Saving to: &#39;data/penguins.csv.1&#39;

penguins.csv.1      100%[===================&gt;]  13.16K  --.-KB/s    in 0.002s  

2022-09-06 19:05:16 (5.44 MB/s) - &#39;data/penguins.csv.1&#39; saved [13478/13478]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># set seaborn figure size, background theme, and axis and tick label size</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">rc</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">:(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">7</span><span class="p">)})</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">font_scale</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_theme</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s1">&#39;ticks&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">peng</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>species</th>
      <th>island</th>
      <th>bill_length_mm</th>
      <th>bill_depth_mm</th>
      <th>flipper_length_mm</th>
      <th>body_mass_g</th>
      <th>sex</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.1</td>
      <td>18.7</td>
      <td>181.0</td>
      <td>3750.0</td>
      <td>MALE</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.5</td>
      <td>17.4</td>
      <td>186.0</td>
      <td>3800.0</td>
      <td>FEMALE</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>40.3</td>
      <td>18.0</td>
      <td>195.0</td>
      <td>3250.0</td>
      <td>FEMALE</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>36.7</td>
      <td>19.3</td>
      <td>193.0</td>
      <td>3450.0</td>
      <td>FEMALE</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>339</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>340</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>46.8</td>
      <td>14.3</td>
      <td>215.0</td>
      <td>4850.0</td>
      <td>FEMALE</td>
    </tr>
    <tr>
      <th>341</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>50.4</td>
      <td>15.7</td>
      <td>222.0</td>
      <td>5750.0</td>
      <td>MALE</td>
    </tr>
    <tr>
      <th>342</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>45.2</td>
      <td>14.8</td>
      <td>212.0</td>
      <td>5200.0</td>
      <td>FEMALE</td>
    </tr>
    <tr>
      <th>343</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>49.9</td>
      <td>16.1</td>
      <td>213.0</td>
      <td>5400.0</td>
      <td>MALE</td>
    </tr>
  </tbody>
</table>
<p>344 rows × 7 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#1</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">peng</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;flipper_length_mm&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;body_mass_g&quot;</span><span class="p">,</span> 
                <span class="n">hue</span> <span class="o">=</span> <span class="s2">&quot;species&quot;</span><span class="p">,</span>
               <span class="n">s</span> <span class="o">=</span> <span class="mi">250</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.75</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Solutions_33_0.png" src="../_images/Solutions_33_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#2</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">peng</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;flipper_length_mm&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;body_mass_g&quot;</span><span class="p">,</span> 
                <span class="n">hue</span> <span class="o">=</span> <span class="s2">&quot;sex&quot;</span><span class="p">,</span>
               <span class="n">s</span> <span class="o">=</span> <span class="mi">250</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.75</span><span class="p">,</span> 
                
               <span class="n">palette</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Species&quot;</span><span class="p">,</span>
                                                  <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span> 
                                                  <span class="n">title_fontsize</span> <span class="o">=</span> <span class="mi">30</span><span class="p">,</span>
                                                 <span class="n">loc</span> <span class="o">=</span> <span class="s2">&quot;best&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Solutions_34_0.png" src="../_images/Solutions_34_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#3</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">peng</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;flipper_length_mm&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;body_mass_g&quot;</span><span class="p">,</span> 
                <span class="n">hue</span> <span class="o">=</span> <span class="s2">&quot;island&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span> <span class="o">=</span> <span class="s2">&quot;lower right&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Solutions_35_0.png" src="../_images/Solutions_35_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#4</span>
<span class="n">facet_plot</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">FacetGrid</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">peng</span><span class="p">,</span> <span class="n">col</span> <span class="o">=</span> <span class="s2">&quot;island&quot;</span><span class="p">,</span>  <span class="n">row</span> <span class="o">=</span> <span class="s2">&quot;sex&quot;</span><span class="p">)</span>
<span class="n">facet_plot</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">,</span> <span class="s2">&quot;flipper_length_mm&quot;</span><span class="p">,</span> <span class="s2">&quot;body_mass_g&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Solutions_36_0.png" src="../_images/Solutions_36_0.png" />
</div>
</div>
</section>
<section id="chapter-5-gapminder-exercises">
<h2>Chapter 5 - Gapminder Exercises<a class="headerlink" href="#chapter-5-gapminder-exercises" title="Permalink to this headline">#</a></h2>
<ol class="simple">
<li><p>Figure out how to make a line plot that shows gdpPercap through time.</p></li>
<li><p>Figure out how to make a second line plot that shows lifeExp through time.</p></li>
<li><p>How can you plot gdpPercap with a different colored line for each continent?</p></li>
<li><p>Plot lifeExp with a different colored line for each continent.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="o">!</span>wget -P data/ https://raw.githubusercontent.com/EastBayEv/SSDS-TAML/main/fall2022/data/gapminder-FiveYearData.csv
<span class="n">gap</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/gapminder-FiveYearData.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--2022-09-06 19:05:57--  https://raw.githubusercontent.com/EastBayEv/SSDS-TAML/main/fall2022/data/gapminder-FiveYearData.csv
Resolving raw.githubusercontent.com (raw.githubusercontent.com)... 185.199.108.133, 185.199.111.133, 185.199.110.133, ...
Connecting to raw.githubusercontent.com (raw.githubusercontent.com)|185.199.108.133|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 81887 (80K) [text/plain]
Saving to: &#39;data/gapminder-FiveYearData.csv.1&#39;

gapminder-FiveYearD 100%[===================&gt;]  79.97K  --.-KB/s    in 0.02s   

2022-09-06 19:05:57 (3.96 MB/s) - &#39;data/gapminder-FiveYearData.csv.1&#39; saved [81887/81887]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#1</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">gap</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;gdpPercap&quot;</span><span class="p">,</span> <span class="n">ci</span> <span class="o">=</span> <span class="mi">95</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Solutions_39_0.png" src="../_images/Solutions_39_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#2</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">gap</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;lifeExp&quot;</span><span class="p">,</span> <span class="n">ci</span> <span class="o">=</span> <span class="kc">False</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Solutions_40_0.png" src="../_images/Solutions_40_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#3</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">gap</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;gdpPercap&quot;</span><span class="p">,</span> <span class="n">hue</span> <span class="o">=</span> <span class="s2">&quot;continent&quot;</span><span class="p">,</span> <span class="n">ci</span> <span class="o">=</span> <span class="kc">False</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Solutions_41_0.png" src="../_images/Solutions_41_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#4</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">gap</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;lifeExp&quot;</span><span class="p">,</span> 
             <span class="n">hue</span> <span class="o">=</span> <span class="s2">&quot;continent&quot;</span><span class="p">,</span> <span class="n">ci</span> <span class="o">=</span> <span class="kc">False</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Solutions_42_0.png" src="../_images/Solutions_42_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#4 with custom colors</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">gap</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;lifeExp&quot;</span><span class="p">,</span> 
             <span class="n">hue</span> <span class="o">=</span> <span class="s2">&quot;continent&quot;</span><span class="p">,</span> 
             <span class="n">ci</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> 
            <span class="n">palette</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;#00FFFF&quot;</span><span class="p">,</span> <span class="s2">&quot;#458B74&quot;</span><span class="p">,</span> <span class="s2">&quot;#E3CF57&quot;</span><span class="p">,</span> <span class="s2">&quot;#8A2BE2&quot;</span><span class="p">,</span> <span class="s2">&quot;#CD3333&quot;</span><span class="p">]);</span>

<span class="c1"># color hex codes: https://www.webucator.com/article/python-color-constants-module/</span>
<span class="c1"># seaborn color palettes: https://www.reddit.com/r/visualization/comments/qc0b36/all_seaborn_color_palettes_together_so_you_dont/</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Solutions_43_0.png" src="../_images/Solutions_43_0.png" />
</div>
</div>
</section>
<section id="chapter-6-exercise">
<h2>Chapter 6 - Exercise<a class="headerlink" href="#chapter-6-exercise" title="Permalink to this headline">#</a></h2>
<ol class="simple">
<li><p>Compare our “by hand” OLS results to those producd by sklearn’s <code class="docutils literal notranslate"><span class="pre">LinearRegression</span></code> function. Are they the same?</p>
<ul class="simple">
<li><p>Slope = 4</p></li>
<li><p>Intercept = -4</p></li>
<li><p>RMSE = 2.82843</p></li>
<li><p>y_hat = y_hat = B0 + B1 * data.x</p></li>
</ul>
</li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#1 </span>
<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LinearRegression</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">mean_squared_error</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Recreate dataset</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>
                     <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">20</span><span class="p">]})</span>
<span class="n">data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>4</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>6</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>8</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>20</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Our &quot;by hand&quot; OLS regression information:</span>
<span class="n">B1</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">B0</span> <span class="o">=</span> <span class="o">-</span><span class="mi">4</span>
<span class="n">RMSE</span> <span class="o">=</span> <span class="mf">2.82843</span>
<span class="n">y_hat</span> <span class="o">=</span> <span class="n">B0</span> <span class="o">+</span> <span class="n">B1</span> <span class="o">*</span> <span class="n">data</span><span class="o">.</span><span class="n">x</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># use scikit-learn to compute R-squared value</span>
<span class="n">lin_mod</span> <span class="o">=</span> <span class="n">LinearRegression</span><span class="p">()</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data</span><span class="p">[[</span><span class="s1">&#39;x&#39;</span><span class="p">]],</span> <span class="n">data</span><span class="p">[[</span><span class="s1">&#39;y&#39;</span><span class="p">]])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;R-squared: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">lin_mod</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">data</span><span class="p">[[</span><span class="s1">&#39;x&#39;</span><span class="p">]],</span> <span class="n">data</span><span class="p">[[</span><span class="s1">&#39;y&#39;</span><span class="p">]])))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>R-squared: 0.7999999999999999
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># use scikit-learn to compute slope and intercept</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;scikit-learn slope: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">lin_mod</span><span class="o">.</span><span class="n">coef_</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;scikit-learn intercept: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">lin_mod</span><span class="o">.</span><span class="n">intercept_</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>scikit-learn slope: [[4.]]
scikit-learn intercept: [-4.]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># compare to our by &quot;hand&quot; versions. Both are the same!</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">lin_mod</span><span class="o">.</span><span class="n">coef_</span><span class="p">)</span> <span class="o">==</span> <span class="n">B1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">lin_mod</span><span class="o">.</span><span class="n">intercept_</span><span class="p">)</span> <span class="o">==</span> <span class="n">B0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># use scikit-learn to compute RMSE</span>
<span class="n">RMSE_scikit</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">mean_squared_error</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">y_hat</span><span class="p">,</span> <span class="n">squared</span> <span class="o">=</span> <span class="kc">False</span><span class="p">),</span> <span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">RMSE_scikit</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2.82843
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Does our hand-computed RMSE equal that of scikit-learn at 5 digits?? Yes!</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">RMSE</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">==</span> <span class="nb">round</span><span class="p">(</span><span class="n">RMSE_scikit</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
</section>
<section id="chapter-7-exercises-redwoods-webscraping">
<h2>Chapter 7 - Exercises - redwoods webscraping<a class="headerlink" href="#chapter-7-exercises-redwoods-webscraping" title="Permalink to this headline">#</a></h2>
<p>This also works with data scraped from the web. Below is very brief BeautifulSoup example to save the contents of the Sequoioideae (redwood trees) Wikipedia page in a variable named <code class="docutils literal notranslate"><span class="pre">text</span></code>.</p>
<ol class="simple">
<li><p>Read through the code below</p></li>
<li><p>Practice by repeating for a webpage of your choice</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#1 </span>
<span class="c1"># See 7_English_preprocessing_basics.ipynb</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#2</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">regex</span> <span class="k">as</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">nltk</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://en.wikipedia.org/wiki/Observable_universe&quot;</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s1">&#39;html&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

<span class="k">for</span> <span class="n">paragraph</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">):</span>
    <span class="n">text</span> <span class="o">+=</span> <span class="n">paragraph</span><span class="o">.</span><span class="n">text</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\[[0-9]*\]&#39;</span><span class="p">,</span><span class="s1">&#39; &#39;</span><span class="p">,</span><span class="n">text</span><span class="p">)</span>
<span class="n">text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\s+&#39;</span><span class="p">,</span><span class="s1">&#39; &#39;</span><span class="p">,</span><span class="n">text</span><span class="p">)</span>
<span class="n">text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\d&#39;</span><span class="p">,</span><span class="s1">&#39; &#39;</span><span class="p">,</span><span class="n">text</span><span class="p">)</span>
<span class="n">text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[^\w\s]&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">text</span><span class="p">)</span>
<span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="n">text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\s+&#39;</span><span class="p">,</span><span class="s1">&#39; &#39;</span><span class="p">,</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>the observable universe is a ballshaped region of the universe comprising all matter that can be observed from earth or its spacebased telescopes and exploratory probes at the present time because the electromagnetic radiation from these objects has had time to reach the solar system and earth since the beginning of the cosmological expansion there may be trillion galaxies in the observable universe although that number was reduced in to only several hundred billion based on data from new horizons assuming the universe is isotropic the distance to the edge of the observable universe is roughly the same in every direction that is the observable universe is a spherical region centered on the observer every location in the universe has its own observable universe which may or may not overlap with the one centered on earth the word observable in this sense does not refer to the capability of modern technology to detect light or other information from an object or whether there is anything to be detected it refers to the physical limit created by the speed of light itself no signal can travel faster than light hence there is a maximum distance called the particle horizon beyond which nothing can be detected as the signals could not have reached us yet sometimes astrophysicists distinguish between the visible universe which includes only signals emitted since recombination when hydrogen atoms were formed from protons and electrons and photons were emittedand the observable universe which includes signals since the beginning of the cosmological expansion the big bang in traditional physical cosmology the end of the inflationary epoch in modern cosmology according to calculations the current comoving distanceproper distance which takes into account that the universe has expanded since the light was emittedto particles from which the cosmic microwave background radiation cmbr was emitted which represents the radius of the visible universe is about billion parsecs about billion lightyears while the comoving distance to the edge of the observable universe is about billion parsecs about billion lightyears about larger the radius of the observable universe is therefore estimated to be about billion lightyears and its diameter about gigaparsecs billion lightyears or metres or feet which equals yottametres using the critical density and the diameter of the observable universe the total mass of ordinary matter in the universe can be calculated to be about kg in november astronomers reported that the extragalactic background light ebl amounted to photons as the universes expansion is accelerating all currently observable objects outside our local supercluster will eventually appear to freeze in time while emitting progressively redder and fainter light for instance objects with the current redshift z from to will remain observable for no more than billion years in addition light emitted by objects currently situated beyond a certain comoving distance currently about billion parsecs will never reach earth the size of the whole universe is unknown and it might be infinite in extent some parts of the universe are too far away for the light emitted since the big bang to have had enough time to reach earth or spacebased instruments and therefore lie outside the observable universe in the future light from distant galaxies will have had more time to travel so one might expect that additional regions will become observable however owing to hubbles law regions sufficiently distant from the earth are expanding away from it faster than the speed of lightnote and furthermore the expansion rate appears to be accelerating owing to dark energy assuming dark energy remains constant an unchanging cosmological constant so that the expansion rate of the universe continues to accelerate there is a future visibility limit beyond which objects will never enter our observable universe at any time in the infinite future because light emitted by objects outside that limit could never reach the earth a subtlety is that because the hubble parameter is decreasing with time there can be cases where a galaxy that is receding from the earth just a bit faster than light does emit a signal that reaches the earth eventually this future visibility limit is calculated at a comoving distance of billion parsecs billion lightyears assuming the universe will keep expanding forever which implies the number of galaxies that we can ever theoretically observe in the infinite future leaving aside the issue that some may be impossible to observe in practice due to redshift as discussed in the following paragraph is only larger than the number currently observable by a factor of note though in principle more galaxies will become observable in the future in practice an increasing number of galaxies will become extremely redshifted due to ongoing expansion so much so that they will seem to disappear from view and become invisible an additional subtlety is that a galaxy at a given comoving distance is defined to lie within the observable universe if we can receive signals emitted by the galaxy at any age in its past history say a signal sent from the galaxy only million years after the big bang but because of the universes expansion there may be some later age at which a signal sent from the same galaxy can never reach the earth at any point in the infinite future so for example we might never see what the galaxy looked like billion years after the big bang even though it remains at the same comoving distance comoving distance is defined to be constant with timeunlike proper distance which is used to define recession velocity due to the expansion of space which is less than the comoving radius of the observable universeclarification needed this fact can be used to define a type of cosmic event horizon whose distance from the earth changes over time for example the current distance to this horizon is about billion lightyears meaning that a signal from an event happening at present can eventually reach the earth in the future if the event is less than billion lightyears away but the signal will never reach the earth if the event is more than billion lightyears away both popular and professional research articles in cosmology often use the term universe to mean observable universecitation needed this can be justified on the grounds that we can never know anything by direct experimentation about any part of the universe that is causally disconnected from the earth although many credible theories require a total universe much larger than the observable universecitation needed no evidence exists to suggest that the boundary of the observable universe constitutes a boundary on the universe as a whole nor do any of the mainstream cosmological models propose that the universe has any physical boundary in the first place though some models propose it could be finite but unboundednote like a higherdimensional analogue of the d surface of a sphere that is finite in area but has no edge it is plausible that the galaxies within our observable universe represent only a minuscule fraction of the galaxies in the universe according to the theory of cosmic inflation initially introduced by its founders alan guth and d kazanas if it is assumed that inflation began about seconds after the big bang then with the plausible assumption that the size of the universe before the inflation occurred was approximately equal to the speed of light times its age that would suggest that at present the entire universes size is at least lightyearsat least times the radius of the observable universe if the universe is finite but unbounded it is also possible that the universe is smaller than the observable universe in this case what we take to be very distant galaxies may actually be duplicate images of nearby galaxies formed by light that has circumnavigated the universe it is difficult to test this hypothesis experimentally because different images of a galaxy would show different eras in its history and consequently might appear quite different bielewicz et al claim to establish a lower bound of gigaparsecs billion lightyears on the diameter of the last scattering surface since this is only a lower bound since the whole universe is possibly much larger even infinite this value is based on matchingcircle analysis of the wmap year data this approach has been disputed the comoving distance from earth to the edge of the observable universe is about gigaparsecs billion lightyears or m in any direction the observable universe is thus a sphere with a diameter of about gigaparsecs billion lightyears or m assuming that space is roughly flat in the sense of being a euclidean space this size corresponds to a comoving volume of about gpc gly or m the figures quoted above are distances now in cosmological time not distances at the time the light was emitted for example the cosmic microwave background radiation that we see right now was emitted at the time of photon decoupling estimated to have occurred about years after the big bang which occurred around billion years ago this radiation was emitted by matter that has in the intervening time mostly condensed into galaxies and those galaxies are now calculated to be about billion lightyears from us to estimate the distance to that matter at the time the light was emitted we may first note that according to the friedmannlemaîtrerobertsonwalker metric which is used to model the expanding universe if at the present time we receive light with a redshift of z then the scale factor at the time the light was originally emitted is given by a t z displaystyle atfrac z wmap nineyear results combined with other measurements give the redshift of photon decoupling as z which implies that the scale factor at the time of photon decoupling would be so if the matter that originally emitted the oldest cosmic microwave background cmbr photons has a present distance of billion lightyears then at the time of decoupling when the photons were originally emitted the distance would have been only about million lightyearscitation needed the lighttravel distance to the edge of the observable universe is the age of the universe times the speed of light billion light years this is the distance that a photon emitted shortly after the big bang such as one from the cosmic microwave background has travelled to reach observers on earth because spacetime is curved corresponding to the expansion of space this distance does not correspond to the true distance at any moment in time sky surveys and mappings of the various wavelength bands of electromagnetic radiation in particular cm emission have yielded much information on the content and character of the universes structure the organization of structure appears to follow a hierarchical model with organization up to the scale of superclusters and filaments larger than this at scales between and megaparsecs there seems to be no continued structure a phenomenon that has been referred to as the end of greatness the organization of structure arguably begins at the stellar level though most cosmologists rarely address astrophysics on that scale stars are organized into galaxies which in turn form galaxy groups galaxy clusters superclusters sheets walls and filaments which are separated by immense voids creating a vast foamlike structure sometimes called the cosmic web prior to it was commonly assumed that virialized galaxy clusters were the largest structures in existence and that they were distributed more or less uniformly throughout the universe in every direction however since the early s more and more structures have been discovered in adrian webster identified the webster lqg a large quasar group consisting of quasars the discovery was the first identification of a largescale structure and has expanded the information about the known grouping of matter in the universe in robert brent tully identified the piscescetus supercluster complex the galaxy filament in which the milky way resides it is about billion lightyears across that same year an unusually large region with a much lower than average distribution of galaxies was discovered the giant void which measures billion lightyears across based on redshift survey data in margaret geller and john huchra discovered the great wall a sheet of galaxies more than million lightyears long and million lightyears wide but only million lightyears thick the existence of this structure escaped notice for so long because it requires locating the position of galaxies in three dimensions which involves combining location information about the galaxies with distance information from redshifts two years later astronomers roger g clowes and luis e campusano discovered the clowescampusano lqg a large quasar group measuring two billion lightyears at its widest point which was the largest known structure in the universe at the time of its announcement in april another largescale structure was discovered the sloan great wall in august a possible supervoid was detected in the constellation eridanus it coincides with the cmb cold spot a cold region in the microwave sky that is highly improbable under the currently favored cosmological model this supervoid could cause the cold spot but to do so it would have to be improbably big possibly a billion lightyears across almost as big as the giant void mentioned above the largest structures in the universe are larger than expected are these actual structures or random density fluctuationsanother largescale structure is the ssa protocluster a collection of galaxies and enormous gas bubbles that measures about million lightyears across in a large quasar group was discovered u measuring about billion lightyears across on january another large quasar group the hugelqg was discovered which was measured to be four billion lightyears across the largest known structure in the universe at that time in november astronomers discovered the herculescorona borealis great wall an even bigger structure twice as large as the former it was defined by the mapping of gammaray bursts in the american astronomical society announced the detection of the giant arc a crescentshaped string of galaxies that span billion light years in length located billion light years from earth in the constellation boötes from observations captured by the sloan digital sky survey the end of greatness is an observational scale discovered at roughly mpc roughly million lightyears where the lumpiness seen in the largescale structure of the universe is homogenized and isotropized in accordance with the cosmological principle at this scale no pseudorandom fractalness is apparent the superclusters and filaments seen in smaller surveys are randomized to the extent that the smooth distribution of the universe is visually apparent it was not until the redshift surveys of the s were completed that this scale could accurately be observed another indicator of largescale structure is the lymanalpha forest this is a collection of absorption lines that appear in the spectra of light from quasars which are interpreted as indicating the existence of huge thin sheets of intergalactic mostly hydrogen gas these sheets appear to collapse into filaments which can feed galaxies as they grow where filaments either cross or are overdense an early direct evidence for this cosmic web of gas was the detection by astronomers from the riken cluster for pioneering research in japan and durham university in the uk of light from the very brightest part of this web surrounding and illuminated by a cluster of forming galaxies acting as cosmic flashlights for intercluster medium hydrogen fluorescence via lymanalpha emissions in an international team headed by roland bacon from the centre de recherche astrophysique de lyon reported the first observation of diffuse extended lymanalpha emission from redshift to that traced several cosmic web filaments on scales of cmpc in filamentary environments outside massive structures typical of web nodes some caution is required in describing structures on a cosmic scale because things are often different from how they appear gravitational lensing bending of light by gravitation can make an image appear to originate in a different direction from its real source this is caused when foreground objects such as galaxies curve surrounding spacetime as predicted by general relativity and deflect passing light rays rather usefully strong gravitational lensing can sometimes magnify distant galaxies making them easier to detect weak lensing gravitational shear by the intervening universe in general also subtly changes the observed largescale structure the largescale structure of the universe also looks different if one only uses redshift to measure distances to galaxies for example galaxies behind a galaxy cluster are attracted to it and so fall towards it and so are slightly blueshifted compared to how they would be if there were no cluster on the near side things are slightly redshifted thus the environment of the cluster looks somewhat squashed if using redshifts to measure distance an opposite effect works on the galaxies already within a cluster the galaxies have some random motion around the cluster center and when these random motions are converted to redshifts the cluster appears elongated this creates a finger of godthe illusion of a long chain of galaxies pointed at the earth at the centre of the hydracentaurus supercluster a gravitational anomaly called the great attractor affects the motion of galaxies over a region hundreds of millions of lightyears across these galaxies are all redshifted in accordance with hubbles law this indicates that they are receding from us and from each other but the variations in their redshift are sufficient to reveal the existence of a concentration of mass equivalent to tens of thousands of galaxies the great attractor discovered in lies at a distance of between million and million lightyears million is the most recent estimate in the direction of the hydra and centaurus constellations in its vicinity there is a preponderance of large old galaxies many of which are colliding with their neighbours or radiating large amounts of radio waves in astronomer r brent tully of the university of hawaiis institute of astronomy identified what he called the piscescetus supercluster complex a structure one billion lightyears long and million lightyears across in which he claimed the local supercluster was embedded the mass of the observable universe is often quoted as tons or kg in this context mass refers to ordinary matter and includes the interstellar medium ism and the intergalactic medium igm however it excludes dark matter and dark energy this quoted value for the mass of ordinary matter in the universe can be estimated based on critical density the calculations are for the observable universe only as the volume of the whole is unknown and may be infinite critical density is the energy density for which the universe is flat if there is no dark energy it is also the density for which the expansion of the universe is poised between continued expansion and collapse from the friedmann equations the value for ρ c displaystyle rho _c critical density is where g is the gravitational constant and h h is the present value of the hubble constant the value for h due to the european space agencys planck telescope is h kilometres per second per megaparsec this gives a critical density of kgm commonly quoted as about hydrogen atoms per cubic metre this density includes four significant types of energymass ordinary matter neutrinos cold dark matter and dark energy although neutrinos are standard model particles they are listed separately because they are ultrarelativistic and hence behave like radiation rather than like matter the density of ordinary matter as measured by planck is of the total critical density or kgm to convert this density to mass we must multiply by volume a value based on the radius of the observable universe since the universe has been expanding for billion years the comoving distance radius is now about billion lightyears thus volume πr equals m and the mass of ordinary matter equals density kgm times volume m or kg assuming the mass of ordinary matter is about kg as discussed above and assuming all atoms are hydrogen atoms which are about of all atoms in our galaxy by mass see abundance of the chemical elements the estimated total number of atoms in the observable universe is obtained by dividing the mass of ordinary matter by the mass of a hydrogen atom kg divided by kg the result is approximately hydrogen atoms also known as the eddington number the most distant astronomical object identified as of is a galaxy classified as hd with a redshift of corresponding to a distance of about billion light years in a gamma ray burst grb was found to have a redshift of which indicates that the collapsing star that caused it exploded when the universe was only million years old the burst happened approximately billion years ago so a distance of about billion lightyears was widely quoted in the media or sometimes a more precise figure of billion lightyears though this would be the light travel distance see distance measures cosmology rather than the proper distance used in both hubbles law and in defining the size of the observable universe cosmologist ned wright argues against the common use of light travel distance in astronomical press releases on this page and at the bottom of the page offers online calculators that can be used to calculate the current proper distance to a distant object in a flat universe based on either the redshift z or the light travel time the proper distance for a redshift of would be about gpc or about billion lightyears the limit of observability in our universe is set by a set of cosmological horizons which limitbased on various physical constraintsthe extent to which we can obtain information about various events in the universe the most famous horizon is the particle horizon which sets a limit on the precise distance that can be seen due to the finite age of the universe additional horizons are associated with the possible future extent of observations larger than the particle horizon owing to the expansion of space an optical horizon at the surface of last scattering and associated horizons with the surface of last scattering for neutrinos and gravitational waves 
</pre></div>
</div>
</div>
</div>
</section>
<section id="chapter-7-exercise-dracula-versus-frankenstein">
<h2>Chapter 7 - Exercise - <em>Dracula</em> versus <em>Frankenstein</em><a class="headerlink" href="#chapter-7-exercise-dracula-versus-frankenstein" title="Permalink to this headline">#</a></h2>
<ol class="simple">
<li><p>Investigate classic horror novel vocabulary. Create a single TF-IDF sparse matrix that contains the vocabulary for <em>Frankenstein</em> and <em>Dracula</em>. You should only have two rows (one for each of these novels), but potentially thousands of columns to represent the vocabulary across the two texts. What are the 20 most unique words in each? Make a dataframe or visualization to illustrate the differences.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#1</span>
<span class="kn">import</span> <span class="nn">spacy</span>
<span class="kn">import</span> <span class="nn">regex</span> <span class="k">as</span> <span class="nn">re</span>
<span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="n">TfidfVectorizer</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a new directory to house the two novels</span>
<span class="o">!</span>mkdir data/novels/

<span class="c1"># Download the two novels</span>
<span class="o">!</span>wget -P data/novels/ https://raw.githubusercontent.com/EastBayEv/SSDS-TAML/main/fall2022/data/dracula.txt
<span class="o">!</span>wget -P data/novels/ https://raw.githubusercontent.com/EastBayEv/SSDS-TAML/main/fall2022/data/frankenstein.txt
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># See that they are there!</span>
<span class="o">!</span>ls data/novels
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="n">corpus</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s1">&#39;data/novels/&#39;</span><span class="p">)</span>

<span class="c1"># View the contents of this directory</span>
<span class="n">corpus</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;frankenstein.txt&#39;, &#39;dracula.txt&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">empty_dictionary</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c1"># Loop through the folder of documents to open and read each one</span>
<span class="k">for</span> <span class="n">document</span> <span class="ow">in</span> <span class="n">corpus</span><span class="p">:</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data/novels/&#39;</span> <span class="o">+</span> <span class="n">document</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">encoding</span> <span class="o">=</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">to_open</span><span class="p">:</span>
         <span class="n">empty_dictionary</span><span class="p">[</span><span class="n">document</span><span class="p">]</span> <span class="o">=</span> <span class="n">to_open</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># Populate the data frame with two columns: file name and document text</span>
<span class="n">novels</span> <span class="o">=</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">empty_dictionary</span><span class="p">,</span> 
                                       <span class="n">orient</span> <span class="o">=</span> <span class="s1">&#39;index&#39;</span><span class="p">)</span>
                <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">index</span> <span class="o">=</span> <span class="nb">str</span><span class="p">,</span> 
                                      <span class="n">columns</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="s1">&#39;file_name&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;document_text&#39;</span><span class="p">}))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">novels</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>file_name</th>
      <th>document_text</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>frankenstein.txt</td>
      <td>The Project Gutenberg eBook of Frankenstein, b...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>dracula.txt</td>
      <td>The Project Gutenberg eBook of Dracula, by Bra...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">novels</span><span class="p">[</span><span class="s1">&#39;clean_text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">novels</span><span class="p">[</span><span class="s1">&#39;document_text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[^\w\s]&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">regex</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">novels</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>file_name</th>
      <th>document_text</th>
      <th>clean_text</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>frankenstein.txt</td>
      <td>The Project Gutenberg eBook of Frankenstein, b...</td>
      <td>The Project Gutenberg eBook of Frankenstein  b...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>dracula.txt</td>
      <td>The Project Gutenberg eBook of Dracula, by Bra...</td>
      <td>The Project Gutenberg eBook of Dracula  by Bra...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">novels</span><span class="p">[</span><span class="s1">&#39;clean_text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">novels</span><span class="p">[</span><span class="s1">&#39;clean_text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\d&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">regex</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">novels</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>file_name</th>
      <th>document_text</th>
      <th>clean_text</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>frankenstein.txt</td>
      <td>The Project Gutenberg eBook of Frankenstein, b...</td>
      <td>The Project Gutenberg eBook of Frankenstein  b...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>dracula.txt</td>
      <td>The Project Gutenberg eBook of Dracula, by Bra...</td>
      <td>The Project Gutenberg eBook of Dracula  by Bra...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">novels</span><span class="p">[</span><span class="s1">&#39;clean_text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">novels</span><span class="p">[</span><span class="s1">&#39;clean_text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">,</span> <span class="s1">&#39;ignore&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">)</span>
<span class="n">novels</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>file_name</th>
      <th>document_text</th>
      <th>clean_text</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>frankenstein.txt</td>
      <td>The Project Gutenberg eBook of Frankenstein, b...</td>
      <td>The Project Gutenberg eBook of Frankenstein  b...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>dracula.txt</td>
      <td>The Project Gutenberg eBook of Dracula, by Bra...</td>
      <td>The Project Gutenberg eBook of Dracula  by Bra...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">novels</span><span class="p">[</span><span class="s1">&#39;clean_text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">novels</span><span class="p">[</span><span class="s1">&#39;clean_text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\s+&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">regex</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">novels</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>file_name</th>
      <th>document_text</th>
      <th>clean_text</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>frankenstein.txt</td>
      <td>The Project Gutenberg eBook of Frankenstein, b...</td>
      <td>The Project Gutenberg eBook of Frankenstein by...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>dracula.txt</td>
      <td>The Project Gutenberg eBook of Dracula, by Bra...</td>
      <td>The Project Gutenberg eBook of Dracula by Bram...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">novels</span><span class="p">[</span><span class="s1">&#39;clean_text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">novels</span><span class="p">[</span><span class="s1">&#39;clean_text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="n">novels</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>file_name</th>
      <th>document_text</th>
      <th>clean_text</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>frankenstein.txt</td>
      <td>The Project Gutenberg eBook of Frankenstein, b...</td>
      <td>the project gutenberg ebook of frankenstein by...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>dracula.txt</td>
      <td>The Project Gutenberg eBook of Dracula, by Bra...</td>
      <td>the project gutenberg ebook of dracula by bram...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># !python -m spacy download en_core_web_sm</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nlp</span> <span class="o">=</span> <span class="n">spacy</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;en_core_web_sm&#39;</span><span class="p">)</span>
<span class="n">novels</span><span class="p">[</span><span class="s1">&#39;clean_text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">novels</span><span class="p">[</span><span class="s1">&#39;clean_text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">w</span><span class="o">.</span><span class="n">lemma_</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">nlp</span><span class="p">(</span><span class="n">row</span><span class="p">)]))</span>
<span class="n">novels</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>file_name</th>
      <th>document_text</th>
      <th>clean_text</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>frankenstein.txt</td>
      <td>The Project Gutenberg eBook of Frankenstein, b...</td>
      <td>the project gutenberg ebook of frankenstein by...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>dracula.txt</td>
      <td>The Project Gutenberg eBook of Dracula, by Bra...</td>
      <td>the project gutenberg ebook of dracula by bram...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tf_vectorizer</span> <span class="o">=</span> <span class="n">TfidfVectorizer</span><span class="p">(</span><span class="n">ngram_range</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> 
                                <span class="n">stop_words</span> <span class="o">=</span> <span class="s1">&#39;english&#39;</span><span class="p">,</span> 
                                <span class="n">max_df</span> <span class="o">=</span> <span class="mf">0.50</span>
                                <span class="p">)</span>
<span class="n">tf_sparse</span> <span class="o">=</span> <span class="n">tf_vectorizer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">novels</span><span class="p">[</span><span class="s1">&#39;clean_text&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tf_sparse</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(2, 168048)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tfidf_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">tf_sparse</span><span class="o">.</span><span class="n">todense</span><span class="p">(),</span> <span class="n">columns</span> <span class="o">=</span> <span class="n">tf_vectorizer</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">())</span>
<span class="n">tfidf_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/evanmuzzall/opt/anaconda3/lib/python3.8/site-packages/sklearn/utils/deprecation.py:87: FutureWarning: Function get_feature_names is deprecated; get_feature_names is deprecated in 1.0 and will be removed in 1.2. Please use get_feature_names_out instead.
  warnings.warn(msg, category=FutureWarning)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>aback</th>
      <th>aback moment</th>
      <th>aback moment know</th>
      <th>abaft</th>
      <th>abaft bi</th>
      <th>abaft bi bank</th>
      <th>abaft krok</th>
      <th>abaft krok hooal</th>
      <th>abandon abortion</th>
      <th>abandon abortion spurn</th>
      <th>...</th>
      <th>zophagous life eat</th>
      <th>zophagous patient</th>
      <th>zophagous patient effect</th>
      <th>zophagous patient outburst</th>
      <th>zophagous patient report</th>
      <th>zophagous wild</th>
      <th>zophagous wild raving</th>
      <th>zophagy</th>
      <th>zophagy puzzle</th>
      <th>zophagy puzzle little</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.002998</td>
      <td>0.002998</td>
      <td>...</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.001011</td>
      <td>0.001011</td>
      <td>0.001011</td>
      <td>0.002021</td>
      <td>0.001011</td>
      <td>0.001011</td>
      <td>0.001011</td>
      <td>0.001011</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.001011</td>
      <td>0.003032</td>
      <td>0.001011</td>
      <td>0.001011</td>
      <td>0.001011</td>
      <td>0.001011</td>
      <td>0.001011</td>
      <td>0.001011</td>
      <td>0.001011</td>
      <td>0.001011</td>
    </tr>
  </tbody>
</table>
<p>2 rows × 168048 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tfidf_df</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>van            0.326435
helsing        0.310265
van helsing    0.310265
lucy           0.304201
elizabeth      0.275854
mina           0.246595
jonathan       0.210212
count          0.202127
dr             0.191010
harker         0.178882
clerval        0.176906
justine        0.164913
felix          0.149920
seward         0.140478
diary          0.120265
dr seward      0.118244
perceive       0.116938
box            0.116223
geneva         0.107943
misfortune     0.098948
dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">titles</span> <span class="o">=</span> <span class="n">novels</span><span class="p">[</span><span class="s1">&#39;file_name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="n">stop</span> <span class="o">=</span> <span class="o">-</span><span class="mi">4</span><span class="p">)</span>
<span class="n">titles</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">titles</span><span class="p">)</span>
<span class="n">titles</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;frankenstein&#39;, &#39;dracula&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tfidf_df</span><span class="p">[</span><span class="s1">&#39;TITLE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">titles</span>
<span class="n">tfidf_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>aback</th>
      <th>aback moment</th>
      <th>aback moment know</th>
      <th>abaft</th>
      <th>abaft bi</th>
      <th>abaft bi bank</th>
      <th>abaft krok</th>
      <th>abaft krok hooal</th>
      <th>abandon abortion</th>
      <th>abandon abortion spurn</th>
      <th>...</th>
      <th>zophagous patient</th>
      <th>zophagous patient effect</th>
      <th>zophagous patient outburst</th>
      <th>zophagous patient report</th>
      <th>zophagous wild</th>
      <th>zophagous wild raving</th>
      <th>zophagy</th>
      <th>zophagy puzzle</th>
      <th>zophagy puzzle little</th>
      <th>TITLE</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.002998</td>
      <td>0.002998</td>
      <td>...</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>frankenstein</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.001011</td>
      <td>0.001011</td>
      <td>0.001011</td>
      <td>0.002021</td>
      <td>0.001011</td>
      <td>0.001011</td>
      <td>0.001011</td>
      <td>0.001011</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.003032</td>
      <td>0.001011</td>
      <td>0.001011</td>
      <td>0.001011</td>
      <td>0.001011</td>
      <td>0.001011</td>
      <td>0.001011</td>
      <td>0.001011</td>
      <td>0.001011</td>
      <td>dracula</td>
    </tr>
  </tbody>
</table>
<p>2 rows × 168049 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># dracula top 20 words</span>
<span class="n">title</span> <span class="o">=</span> <span class="n">tfidf_df</span><span class="p">[</span><span class="n">tfidf_df</span><span class="p">[</span><span class="s1">&#39;TITLE&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;frankenstein&#39;</span><span class="p">]</span>
<span class="n">title</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">numeric_only</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>elizabeth                  0.275854
clerval                    0.176906
justine                    0.164913
felix                      0.149920
perceive                   0.116938
geneva                     0.107943
misfortune                 0.098948
frankenstein               0.092951
beheld                     0.083955
victor                     0.083955
murderer                   0.080957
henry                      0.077959
cousin                     0.077959
safie                      0.074960
william                    0.074960
cottager                   0.071962
chapter chapter            0.068963
chapter chapter chapter    0.065965
creator                    0.062967
exclaim                    0.059968
dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># dracula top 20 words</span>
<span class="n">title</span> <span class="o">=</span> <span class="n">tfidf_df</span><span class="p">[</span><span class="n">tfidf_df</span><span class="p">[</span><span class="s1">&#39;TITLE&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;dracula&#39;</span><span class="p">]</span>
<span class="n">title</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">numeric_only</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>van            0.326435
helsing        0.310265
van helsing    0.310265
lucy           0.304201
mina           0.246595
jonathan       0.210212
count          0.202127
dr             0.191010
harker         0.178882
seward         0.140478
diary          0.120265
dr seward      0.118244
box            0.116223
sort           0.096010
madam          0.095000
madam mina     0.087925
don            0.086915
quincey        0.085904
godalming      0.079840
morris         0.078829
dtype: float64
</pre></div>
</div>
</div>
</div>
</section>
<section id="chapter-8-exercise">
<h2>Chapter 8 - Exercise<a class="headerlink" href="#chapter-8-exercise" title="Permalink to this headline">#</a></h2>
<ol class="simple">
<li><p>Read through the spacy101 guide and begin to apply its principles to your own corpus: <a class="reference external" href="https://spacy.io/usage/spacy-101">https://spacy.io/usage/spacy-101</a></p></li>
</ol>
</section>
<section id="chapter-9-exercise">
<h2>Chapter 9 - Exercise<a class="headerlink" href="#chapter-9-exercise" title="Permalink to this headline">#</a></h2>
<ol class="simple">
<li><p>Repeat the steps in this notebook with your own data. However, real data does not come with a <code class="docutils literal notranslate"><span class="pre">fetch</span></code> function. What importation steps do you need to consider so your own corpus works?</p></li>
</ol>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "EastBayEv/SSDS-TAML",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./fall2022"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="Appendix.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><strong>Appendix</strong></p>
        </div>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Software and Services for Data Science (SSDS), Stanford University<br/>
  
      &copy; Copyright 2021-2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>